<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset = "UTF-8">
    <meta http-equiv=""X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, intial-scale=1.0">
    <title>Collision Logic</title>
</head>
<body>
    <canvas id="canvas1" width="800" height="600" style="border: 3px solid #000;"></canvas>
    <script>
    const canvas = document.getElementById('canvas1');
    const ctx = canvas.getContext('2d');

    const circle1 = { x: 100, y: 100, radius: 75, dx: 2, dy: 2, color: 'blue' }; // Made this circle bigger
    const circle2 = { x: 300, y: 300, radius: 50, dx: -2, dy: -2, color: 'red' };
   

        function getRandomColor() {
            const letters = '0123456789ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }

        function displayText(text, x, y) {
    ctx.fillStyle = 'black';
    ctx.font = '20px Arial';
    ctx.textAlign = 'right'; // Align text horizontally around x
    ctx.textBaseline = 'middle'; // Align text vertically around y
    ctx.fillText(text, x, y);
}

        function drawCircle(circle) {
            ctx.beginPath();
            ctx.arc(circle.x, circle.y, circle.radius, 0, Math.PI * 2);
            ctx.fillStyle = circle.color;
            ctx.fill();
        }

        function isColliding(c1, c2) {
            let dx = c2.x - c1.x;
            let dy = c2.y - c1.y;
            let distance = Math.sqrt(dx * dx + dy * dy);
            return distance < c1.radius + c2.radius;
        }

        function drawLine(c1, c2) {
        ctx.beginPath();
        ctx.moveTo(c1.x, c1.y);
        ctx.lineTo(c2.x, c2.y);
        ctx.strokeStyle = 'black';
        ctx.stroke();
        }



        function update() {
            // Update positions
            circle1.x += circle1.dx;
            circle1.y += circle1.dy;
            circle2.x += circle2.dx;
            circle2.y += circle2.dy;

            // Boundary collision
            [circle1, circle2].forEach(circle => {
                if (circle.x + circle.radius > canvas.width || circle.x - circle.radius < 0) {
                    circle.dx *= -1;
                }
                if (circle.y + circle.radius > canvas.height || circle.y - circle.radius < 0) {
                    circle.dy *= -1;
                }
            });


        // Check for collision between circles
        if (isColliding(circle1, circle2)) {
            circle1.color = getRandomColor();
            circle2.color = getRandomColor();
            collisionText = 'Collide';
        } else {
            let distance = Math.sqrt(Math.pow(circle2.x - circle1.x, 2) + Math.pow(circle2.y - circle1.y, 2));
            collisionText = 'Distance: ' + distance.toFixed(2);
        }

            draw();
        }

    let collisionText = ' ';
    let midX = 0;
    let midY = 0;

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawCircle(circle1);
            drawCircle(circle2);
            drawLine(circle1, circle2); // Draw line connecting the radii
        //ensure values are constantly updated
        let midX = (circle1.x + circle2.x) / 2;
        let midY = (circle1.y + circle2.y) / 2;

        //console.log("Displaying text:", collisionText);
            displayText(collisionText, midX, midY);
        }

        setInterval(update, 20);
    </script>
</body>
</html>
